stateDiagram-v2
    [*] --> ContractEntry
    ContractEntry --> BlockchainQuery: Fetch metadata
    BlockchainQuery --> PatternAnalysis: Check contract traits
    
    state PatternAnalysis {
        [*] --> Scanning
        Scanning --> Compliant: No haram patterns
        Scanning --> NonCompliant: Maysir/Gharar found
    }
    
    Compliant --> GuidelinesGen: Create usage rules
    NonCompliant --> ViolationReport: List issues
    GuidelinesGen --> ResultDelivered
    ViolationReport --> ResultDelivered
    ResultDelivered --> SuggestionPhase: Recommend alternatives
    SuggestionPhase --> [*]